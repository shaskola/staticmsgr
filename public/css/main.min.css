:root[data-theme=light]{--bg-primary:#ffffff;--bg-secondary:#f5f5f5;--text-primary:#29262b;--text-secondary:#666666;--accent-color:#7f7fd5;--border-color:#cccccc;--chat-bubble-bg:#ffffff;--system-message-bg:rgba(0, 0, 0, 0.1)}:root[data-theme=dark]{--bg-primary:#29262b;--bg-secondary:#1e1c1f;--text-primary:#ffffff;--text-secondary:#cccccc;--accent-color:#7f7fd5;--border-color:#444444;--chat-bubble-bg:#363238;--system-message-bg:rgba(255, 255, 255, 0.1)}*{margin:0;padding:0;box-sizing:border-box}body{font-family:noto sans,sans-serif;background:var(--bg-primary);color:var(--text-primary);min-height:100vh}.app-container{width:100%;margin:0;height:100vh;display:flex;flex-direction:column}.app-header{background:var(--bg-secondary);padding:1rem;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:100}.group-info{position:absolute;left:50%;transform:translateX(-50%);display:flex;align-items:center;gap:.75rem}.group-avatar{width:32px;height:32px;border-radius:8px;object-fit:cover}.group-name{font-size:1.2rem;font-weight:700;color:var(--text-primary);margin:0}.theme-toggle{position:relative;z-index:1;background:0 0;border:none;cursor:pointer;padding:.5rem}.theme-icon{width:24px;height:24px}html[data-theme=light] .moon-icon{display:block}html[data-theme=light] .sun-icon{display:none}html[data-theme=dark] .moon-icon{display:none}html[data-theme=dark] .sun-icon{display:block}.content-area{flex:1;overflow-y:auto;padding:1rem;display:flex;flex-direction:column;gap:1rem;align-items:center;scrollbar-width:thin;scrollbar-color:var(--accent-color)transparent}.content-area::-webkit-scrollbar{width:8px}.content-area::-webkit-scrollbar-track{background:0 0}.content-area::-webkit-scrollbar-thumb{background-color:var(--accent-color);border-radius:20px;border:2px solid var(--bg-primary)}.content-area::-webkit-scrollbar-thumb:hover{background-color:var(--accent-color);opacity:.8}.message-card{width:100%;max-width:400px;margin:.5rem 0;padding:1rem;border-radius:1rem;background:var(--chat-bubble-bg);box-shadow:0 2px 4px rgba(0,0,0,.1);border:1px solid var(--border-color)}.message-card.outgoing{margin-left:auto;background:var(--accent-color);color:#fff}.message-header{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem}.avatar{width:32px;height:32px;border-radius:50%;object-fit:cover}.message-meta{display:flex;flex-direction:column}.username{font-weight:700;color:var(--accent-color)}.timestamp{font-size:.8rem;color:var(--text-secondary)}.message-content{line-height:1.5}.message-image{max-width:100%;border-radius:.5rem;margin-top:.5rem}.system-message{display:flex;justify-content:center;align-items:center;margin:1rem auto;font-size:.9rem;color:var(--text-secondary);max-width:400px;width:100%;background:0 0}.system-message p{margin:0;padding:0;text-align:center;background:0 0}.scroll-bottom{position:fixed;bottom:2rem;right:2rem;background:var(--chat-bubble-bg);border:1px solid var(--border-color);border-radius:1rem;width:60px;height:60px;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 4px rgba(0,0,0,.1);transition:transform .2s,box-shadow .2s}.scroll-bottom:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,.2)}.scroll-icon{width:24px;height:24px;filter:invert(var(--icon-invert));color:var(--text-primary)}@media(max-width:768px){.message-card{max-width:90%}.scroll-bottom{bottom:1rem;right:1rem;width:50px;height:50px}.scroll-icon{width:20px;height:20px}}.button{width:100%;padding:13px;margin:6px 0;background:var(--accent-color);color:#fff;border-radius:8px;text-align:center;font-weight:700;box-shadow:0 2px 4px rgba(0,0,0,.2);cursor:pointer}.button:hover{opacity:.9}.message-card[data-msgtype=secret]{background:var(--bg-secondary);border-color:var(--accent-color)}.message-card[data-msgtype=secret] .message-content{font-family:psa-code,monospace!important;font-size:1.1em;letter-spacing:.05em;color:var(--accent-color)}